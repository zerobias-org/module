{
  "template": "Recovery Context Template",
  "description": "Use this template to track error recovery attempts",

  "error_context": {
    "error_type": "test_failure | build_failure | api_error | auth_failure",
    "error_message": "Detailed error message",
    "stack_trace": "If available",
    "occurred_at": "ISO timestamp",
    "task": "Current task being executed",
    "subtask": "Specific subtask if applicable"
  },

  "attempted_fixes": [
    {
      "attempt": 1,
      "action": "Description of fix attempted",
      "result": "success | failure",
      "reason": "Why it worked or didn't work",
      "confidence": 85
    }
  ],

  "remaining_options": [
    {
      "option": "Check API documentation",
      "priority": "high",
      "estimated_success": 70
    },
    {
      "option": "Verify credentials",
      "priority": "medium",
      "estimated_success": 50
    },
    {
      "option": "Ask user for guidance",
      "priority": "low",
      "estimated_success": 100
    }
  ],

  "rollback_point": {
    "git_commit": "abc123def",
    "description": "Last known good state",
    "files_modified": [
      "src/Client.ts",
      "api.yml"
    ]
  },

  "diagnostic_data": {
    "build_output": "Last build output if relevant",
    "test_output": "Last test run output",
    "curl_response": "API test response",
    "environment": {
      "node_version": "v18.0.0",
      "npm_version": "9.0.0",
      "has_credentials": true
    }
  },

  "next_steps": {
    "recommended": "Try option with highest success probability",
    "fallback": "Ask user if confidence < 70%",
    "abort_condition": "After 3 failed attempts"
  },

  "learning": {
    "pattern_identified": "Description of pattern that caused error",
    "should_add_rule": true,
    "proposed_rule": "New rule to prevent this error",
    "affects": "Which files/personas need update"
  }
}