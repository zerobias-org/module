# @zerobias-org/module-avigilon-alta-access

A TypeScript client library for integrating with the Avigilon Alta Access API. Provides type-safe operations for managing people, groups, and access control units with read-only access.

For credential setup, see the [User Guide](USER_GUIDE.md).

**Note**: API operations and data models are automatically appended to this README during the publishing process based on the OpenAPI specification.

## Installation

```bash
npm install @zerobias-org/module-avigilon-alta-access
```

Requires Node.js 18+ and an Avigilon Alta Access account with email/password credentials.

## Quick Start

```typescript
import { newAvigilonAltaAccess } from '@zerobias-org/module-avigilon-alta-access';
import { Email } from '@auditmation/types-core-js';

const client = newAvigilonAltaAccess();

await client.connect({
  email: new Email(process.env.AVIGILON_EMAIL!),
  password: process.env.AVIGILON_PASSWORD!,
  totpCode: process.env.AVIGILON_TOTP_CODE // Optional, for MFA
});

const users = await client.getUserProducerApi().listUsers();
console.log(users);

await client.disconnect();
```

See [User Guide](USER_GUIDE.md) for detailed setup instructions.

## Usage

```typescript
import { Email } from '@auditmation/types-core-js';

const client = newAvigilonAltaAccess();
await client.connect({
  email: new Email('your-email@domain.com'),
  password: 'your-password',
  totpCode: '123456' // Optional, if MFA is enabled
});

// Available APIs
const userApi = client.getUserProducerApi();
const groupApi = client.getGroupProducerApi();  
const acuApi = client.getAcuProducerApi();

// List operations
await userApi.listUsers();
await groupApi.listGroups();
await acuApi.listAcus();

// Get single item operations
await userApi.getUser('user-id');
await groupApi.getGroup('group-id');
await acuApi.getAcu('acu-id');
```


---

## External API Schema

[External API Schema Diagram](https://mermaid.live/view#pako:H4sIACdIsGgCA9Ud23LbNvZXNH7c2f0Bvzm2s8k2TTy-tDM7nfFAICShJgkuADpW3fz7ngOQFEFcSCqS4vQhbYRDXM79BvT1jIqMnZ2fMXnFyVqS4o9yAf98zFipud4uXu3f8R-lJS_XC54tbn5Z_HH2jz_OvDFWEJ4vHmLDKy6V_kwK5o3kZDiQEc00L9iCSgb_mV3o4aQdRF1lYYilEDkj5YJQzZ9Zf_Sb_Zf984tck5L_RTQX5cwDl7Dn-HkzpqjkFc57qoP1Vscp_hKlj2xVLzMBlCr9CZUS1yVZ5izzSSTW4kHmu9__VIAuxbSGURVA64NiciY6ecN2H7PF-xiMkOvgcHeEWlWszFgWRWsH8QCL5YeljEEKrZUWxXvO8kx5-6841bVkDipbim3qYlmCCDmD7cG4utCa0A3L7sXHUjNJReHPvglRnBVVLraMfcwCPFoRqQvAe4CBdB7gHk10rWLYr4TUJL-glCnlj4pnJiUQ-YbJgivlyEWHnvISVJJ_hBc4cUny_hF2FNVwhiv4W2AMKB0ZQaXzSaxbOXCY9xY2PJN5Y4y5v6qwEkZFxaL45upOkzIjMs7uB9Azaqs0KxAng81VHSG9HXJg0TVogIIVSyYvRd1ymIPnf0tRVz8c0SfTyWs87v22YjEcG3xMQOIUBXzH9Y_n4WaMZJl0VELzOwVtH1QxvgageHrpQ1cC4HNXaWSM8oLkIOKgxOrgiCjXw6FTcUFYSfv2eozA_wXowxJYAcv8rLKFuIuI1obIvkfTTQf2_4YotST0yXN7WtGjpCLIpZ94wX0bCcYTTCcSwqBtOu2ukZePRLwgasIj-0s0wwMgvuOm6ZOgT-yohinMEAb3uaDGo79luGEaPINRNLGzCyFvBODU-bBdWLIXj2PasbqEtZ--lNcvfYZp-cmO3vMiwKiFKLkWuLw3uTkTICxj8i7OVReXD6fiqTTngO_PSf65RrMVhyoIvbCGAWD8bVcXEasBgWTxFSTvNyaDTiTIexYc7xzRMucli_IdeoZ3jJUTdPTJ1FsBBq5B6ESfvAvcrCAMeKlk-quQTy4z7UIY0HpLngP3syCf0fpSlCu-ruU-YTOhdZDpJmwsY8-cMn_wEHRoRbQSObDH2gRZz2QY8uIcotaR_SlGawnmIiWkA-R9dg88H5fObClpjkuUqpeA91-JevJ9VkDWV-L7XVmp7gA_fXZsGTnb0KrRYMfQ_v0NUIHRzzZERKmDyMfQ9LY-dHhXg8YLK0rj84eHjA2da7IVpgBg_4PRTonkufiawDswNM_ey37uwB07QlZkkoIzBmVudIzkNyZaBXUJod6Yww1ohnsOwmFZYjyXZSFCTlSnaZBT1UiGbx66DyiBJu_iujLdyTL3d6u8yVZ9Wf3O2NN3MqZDxBuQ9O-xRqgpUlSi_bmjxFKePTg-GVpdp1iJjuqzE0y3gxlbQuRMmUuPga27dSJuy30bsBQb4eQwe-nNhIG7NW7qYYUp5jKMa9JZjqo3bl3udJzzO2drUmZxd0LqZoHIFCPu6LE1byrMG3O1w65nxIdMCEvE9_YE_UCe5jhtesohSf3yQYUVgqM2jqJ-y1ApLUXMMLEc1F_Qvh5x0H8pmanPkHwmETrfaD_Rp926SIhpkFdEkz3NInupOGi-C32EylDBNIFxMnLGuLmNh3kUYt5IeLgiFMVwGyysFAJklGEaLFAdormos1_YNlSt8io1HQ4Mgi0WIlwGMhNItQGfxOoEly5-TpjV1nF6JN3SkOwf1yNwk_9NlPA2iljGkyXlmoUtBR7GDr9BH7dBZNJLvwEvQmRxzcpWK2Y2GvFvu_F7MZidvVBmMKqiwey9eGIhn1eb3_crtidKj76inI_9_g5T1nWkc-P6GY5wqjg-4WJaJzHyGe4xodRtiBpFIf4Ber-oJtqTXRuE4Y09PD4gaZ3rSbY4gohgi8-K8LyWEG0TFXSHKilww67RaE1NO_Yu6JeIUgMW7yAIEvLgIbzcfkdYMhZ74I5T_F8KWZA8336pWPkTBg_pvDQ6-jremnG5QYswvaJ2y3Ky_ZnIL3HD-1K_9ZkaXwszE_wH9c_dspefC-0v-yL9hEhtcwoHRWzPTs1DXZdLAlvzjutos0840jh2ODzVW3ipSIlJjHcC-6UOk0iYxHJLXDAV2MWSUD9Sxzu4axuCb6R45gdP7qWxVzVrRj1wh7VOGyi4jsiu7_MYlYQEA61wzc9JLBqQaSgMtTv8rwZfP_uBHPjJ7-d4O-Wanevc7i2KaUzGZ0TyeE_nCTgVO3My8bW8yUl5BFGe7ylWsJFw81aixUcTuWam-WqYXzYehHEuVSDnC7G6dEoldjbJ1zCsjoTyG0KfyJq9OYwHMbuC80Kwti-LdumMWE82Zg62V37NKccmO9JLd_RbNoFu1I8rl9wUsC63NGdHIt2vELpKIYof0Gs5n65-u88ESSJdV8RQkkTF0CiU6w-iljPKOAexp-A1vUd3XL8JiVmZrYRkptUsS64_sXKtN2GhQgt8xVa8DHcsTKDTkRH-G1fYf3hgu2ouhY3cCEvkCBLD4UZqKgpw9P2GpY0whYdInu7Znj2Y1hqpm5lP77AXIg1y7deIU3WWnmQObNxBif47W26EeJpJ9DHtVct8dpWgS5WqaJwEB9aAp6lC0womfCW3g-sTbsW5HlxZckbf29zlYLsbE00fiywXOZMH1nsEp0yGoc8MHaNou5HOJ-jNfYqXCowLZWHZM0Mfh63Q5ixXTup7lzO3nlySAODciPw5mG1uh95tp5LWIdxnofmKU3L4CCVem0iRpgC-BsczZgt7u9239BxxqP3ixO7CHgh6sDiMGarplfdBGrIS8m14CpLF2kbsrTkiYV4NuiNmFo2nMY8IK567l0o71K1ZiT5cpBx_hHYHN3OEKlgeQRoStOG7NWfz9HhGyUJ0hbBoE9O2pOGiBwzcmbWH3h0MXEspjmdTKg7G80hKaT6Zntj2A1FhZzlxs3SaU5bia78FpUeej9WxsF9nHC8cn8oooB1rzWo8YeWZ12RdOlkjtvktBtqLDQp71mSvQOXdBe92xi8m4PEu1izouM2pjbuUAGrOpELXj38gSzFyvbAbriVeMPxCaQ0xDd2mLzFGS8Tt57HHHQggxPW-dmm0GwGb8RJsL1wHB5oNY5x14mxBh6N7CajAU82s8MAekr2izdFMGBG97U5eLhuKhnBpvg3hcjjgqip79iCXb7jCG4PUtjyGeL0k-VZzqg6rdkC6YNWEaqlMS1RMMuHbUIvmrhvEfJ2OqS1MIKjesRXJaZ1P7sccdJUUVc6Bn9iNyDndnsx5qcxyUeexKcXgix37ZJBod6xBtu-7krcHFeR3IL51ZW90nAzrS7NoqsSGiGegXoJo5SXN64xlt41BjTstQkIw9imapGUj1-ZQH1gEBZ0XOxT0LiVEHCUuavn5SMT7AJNn5ATSghtZbOxqV4Fr3LvSJeptmCXgxFiNDhJONL4uM81yn7BMd42p03t8vYcc5SmPCI_Wyz9BA0R7GbLtB13kieF79hJ4Tag5RlSxPRPJkffVj-mXLtSeF3BHEN12L4SjnGawUXYRFo7ohF0XoWnqGZYzG3wfy91631wMss7JYXFmL3knlHHjisUuJdnCcDM6P_q3n1-ZTYTQ17aEhxMq5lJkZMxYXzYYNWtahN-auErtlf-y-_3ASK43M8lh8f1dFAmjc5ULohe0qh8wBTn8vWCFkNvgEHIvJq2crHvXomcvzIPQlKCnWBYxk4AKqZeAtoQTqkJpZRVMTFIhs3Ti97vu8Y_T4NC3928kL4jcTrxXP-Fuv3_1fuRZhLktFF1O6I1keUfzK8kkirleEXsILPRE3mEN3vdZuxkvxTRxP2YeYxbMAPxG8jpKBwjSUvYADrsWIV5OeXAW0w0i9kIi9lzv8QpXguH0X7bVcsV9l6G7J6fpl9UKsBZzGDKlY5memS6tyzLbkv5HLA8rfL1cfZh9_hTL2XZnf2O8qxijvgcd2dw8iUJgbdh7qIlhFv-KaRgbWhg4TqRsOW7im1L9_BzyV_thsk0Di-8RAQ7iuMXDRmsv4OxuJ2g05Okb1qBGK1Eq9g4iB39XiMhfbQUzdNPUzp9UhSVEI7dY_7_Q4ZLIwVPyxJRZYrfIsgrzpvG02kZEDaslBDbXxxsdLDKDj3LMyrJ3ySamBnX2ZsQuFCvBh1Lz_vPA3_7-17_-_nv33PT5YkPUY3sz0Qd0nmo-XywZPuOoHrXovdo6DdQ-PDoN1jykOQ3UGIMG1HyWBhmZzT4SuAdsZGkHxuzDh8En5Kat2IOMrNc8BNIAIfw5llat1x6BGiOxA2wPZCbVUrS61rwT4Sw6nKX3lEEDZ7hsCuDI_vwPBlfXLYvrrtgyGJ7Ike3t7omU6t0T9kUO3My6Rw57qXYi0_VhGxTy8hnbZ1QAoiUX1qOkemxbHByYhsDnuy6ex-U2dNFzMGfzdqJKgMYYMAg8yod42zDJhg5InPl7QKNrvgxXVPgCm_KG46u9TFyrvX82pErbGdEuOoAb4xf3CpazW3zhu2wfG_LuG02Uvt4NnGlfhK6VTPtyZ5deG2ty3rzT_ChWPoixTVb4ZfeQdh-g0aGUlI-k14zYM1SRSRyIjhVT0zSqPwnTqZjzxUrgm3IqsOUITKdcGjiPmucLUusN_oiR207CeybFe2LSHjtwUcmDjMwwzM_YCZtk0qNbne49EzhHxfY_aNQhqaqcMwR8RC8rBt1yUA98vXsL3Idv6dyDZ7vnsX34huQ98N07pj60T9jHNukZfjhvGpL8l9qa74zF9pWLc01psjwPPunYnZjCpvKv40ybubsFsh94I97megZwfGv7enccps3b9ujvBd3wJHbC96TOAYpqh7ZPPO3y9ULUBrD9Ds--VjEo6wOErL5thJ52XKf3dv9PGjRhl-pOwPvbcD46byJ35fShTlu93x050fVrkjCtH9ebAG0oo3WftAPoMSVm-wP3AW5QBpLXJ50NrifP1wNuZj_fda_uZm376CbOOwBvdloxiW22_XmxKywdHPk9Ru128VvkXvhZDad7bde0w48VKDgsO_twQ0fycQW6d9jHM9EVGvavTPvMab6Y9klb8t8ndHntvkbmNT0UKlT7njh3r4g77YtBFXPaR06lzfFh3SAkBNc50uOgblgy_GLozQw9f8eQRoCjXn2v0jI38_La__i8bYxRg6LDRHoOwCM2p8vC-27pzt85--dZARsjPDs7fz0D57PA_-9ZxlakzvXZt2__Bx4sHMQLbQAA)
<!-- external-api-hash: 7a3dcc364aaa79904f04a75e40623fbd7791cfad -->

## Development

### Testing

Run integration tests:

```bash
npm run test:integration
```

### Test Fixtures

Integration tests use fixtures stored in `test/fixtures/integration/` for consistent test data. These fixtures are **not automatically updated** during test runs.

To update fixtures when API responses change:

```bash
SAVE_FIXTURES=true npm run test:integration
```

**When to update fixtures:**
- API response format changes
- New test scenarios require different data
- Debugging integration issues

**‚ö†Ô∏è Important:** Only update fixtures intentionally. Review changes before committing to ensure they reflect expected API behavior.

---

üìã **Important**: This documentation is auto-generated. Please verify code examples work with the current version.
